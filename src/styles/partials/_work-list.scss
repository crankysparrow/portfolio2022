@use '../helpers' as *;
@use 'sass:list';

.work-list {
	.work-item {
		--imgSize: 230px;
		--top: calc((var(--imgSize) * 0.67) * 0.25);
		--imgBottom: calc((var(--imgSize) * 0.67) - var(--top));
		--sideCol: calc(var(--imgSize) * 0.15);
		--padSide: 1rem;
		position: relative;
		z-index: 0;
		width: 100%;
		margin-bottom: 100px;
		z-index: 1;
		display: grid;
		grid-template-columns: 1fr var(--imgSize);
		grid-template-rows: min-content min-content var(--imgBottom) auto;

		.img {
			width: 100%;
			max-width: 380px;
			position: relative;
			grid-column: 1 / 4;
			grid-row: 1;
			border: 2px solid #21c3a3;
			border-radius: 3px;
			background-color: list.nth($turquoise_light, 3);
			z-index: -2;
			width: var(--imgSize);
			grid-column: 2;
			grid-row: 3;
			align-self: end;
			.img-inner {
				position: relative;
				padding-bottom: 67%;
				width: 100%;
				height: 0;
				filter: grayscale(100%);
				mix-blend-mode: multiply;
			}
			img {
				position: absolute;
				top: 0;
				left: 0;
				display: block;
				width: 100%;
				height: 100%;
				object-fit: cover;
				object-position: center;
			}
			&:after {
				position: absolute;
				width: 100%;
				height: 100%;
				top: 0;
				left: 0;
				content: '';
				// background: list.nth($turquoise_light, 5);
				background: list.nth($blue_light, 5);
				mix-blend-mode: soft-light;
			}
		}
		.work-title {
			grid-row: 1;
			grid-column: 1;
			padding-left: var(--padSide);
			margin-bottom: 0.3rem;
		}
		.tags-list {
			grid-row: 2;
			grid-column: 1 / 3;
			margin-bottom: 0.5rem;
			width: calc(100% - var(--sideCol));
			padding-left: var(--padSide);
			margin-bottom: 0.3rem;
			.tag {
				background: list.nth($orange_light, 3);
				&:last-child {
					margin-right: 0;
				}
			}
			.tag:last-child {
				margin-right: 0;
			}
		}
		.work-item-content {
			background-color: transparentize(list.nth($turquoise_light, 9), 0.1);
			padding: 1rem var(--padSide);
			border-radius: 5px;
			grid-row: 3 / 5;
			grid-column: 1 / 3;
			box-shadow: 15px 10px 20px -10px #{transparentize(list.nth($turquoise_dark, 7), 0.8)};
			width: calc(100% - var(--sideCol));
		}
		&:nth-child(2n) {
			grid-template-columns: var(--imgSize) 1fr;
			.work-title {
				grid-column: 2;
			}
			.tags-list,
			.work-title {
				padding-right: var(--padSide);
				padding-left: 0;
				text-align: right;
				margin-left: auto;
			}
			.work-item-content {
				margin-left: auto;
			}
			.img {
				grid-column: 1;
			}
			&:before {
				left: auto;
				right: 0;
			}
		}

		@include xs-down {
			margin-right: -15px;
			margin-left: -15px;
			width: calc(100% + 30px);
			.work-title {
				grid-column: 1 / 3;
			}

			&:nth-child(2n) {
				.work-title {
					grid-column: 1 / 3;
				}
			}
		}

		@include xs {
			--imgSize: 270px;
			--top: calc((var(--imgSize) * 0.67) * 0.35);
			--sideCol: calc(var(--imgSize) * 0.35);
		}

		@include sm {
			--imgSize: 290px;
			--padSide: 2rem;
			--sideCol: calc(var(--imgSize) * 0.3);
			padding-top: 1rem;
			.work-title,
			.tags-list {
				margin-bottom: 0.5rem;
			}
			.work-item-content {
				padding-top: 1.5rem;
			}
		}

		@include md {
			--imgSize: 340px;
			margin-bottom: 150px;
		}
	}

	@include md {
		max-width: 900px;
		margin: 0 auto;
	}
}
